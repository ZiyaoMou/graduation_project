# SimFaaS

## 背景

1. Temporal and steadying-state performance models have been developed

2. very little official documentation made publicly available about the scheduling algorithms
3. many works have focused on partially reverse engineering this information

## 目标

1. 提升平均响应时间，特别是冷启动比率
2. 降低云服务上的消耗，减少平均启动实例数量
3. 从损耗和性能的角度，开发一个综合的、延展性强的测量平台

## 状态时间定义

1. 初始化状态

2. 运行时状态

3. 空闲时状态

### 初始化时间

包括云端初始化（启动新的实例、虚拟机、容器）和应用初始化（例如连接数据库）和未收到首次请求的等待时间。

### 运行时间

从请求触发后转换为运行状态，到返回请求结果转换成空闲状态，之间的时间为运行时间

## 测量方法

1. 每次请求重新测量

2. 并发值测量

3. 公制测量

### 基于每个请求的度量方法

在过期时间以内，被使用的实例对象都会保持warm，如果在过期时间到了之前都没有收到请求，实例对象会被释放。（关注过期时间）

### 并发值测量

对某个实例并发请求，并发的请求数量可以成为并发值。（关注并发请求数量）

### 公制测量

cpu、内存容量

## 案例分析

1. 稳态分析

2. 暂态分析

3. 假设分析

### 稳态分析

给定负载:**到达速度/每秒到达多少请求量，冷启动、热启动的服务时间，到期时间，模拟时间，初始化时间**

输出参数:**冷启动概率，拒绝概率，实例平均生命周期，服务启动数量，服务运行数量，服务空闲数量**

*结果是可以复现的*

作用：

1. 观察参数的相关性
2. 应用开发者能够估计服务的成本，间接的可以去调整数据库并发连接个数
3. 降低云服务商的基建成本
4. 更加提炼的信息只面向服务商开放，包括数据库、配置等等

### 暂态分析

对于一些限定时间边界的性能测量

作用：

1. 帮助云开发者把握短时间服务质量
2. 在排除一些性能模型的内在限制后进行测量，帮助开发者聚焦短时间性能的角度开发serverless平台

### 假设分析

系统动态复杂，调整配置

作用：

1. 在给定的负载下，基于精确的性能模型，调整配置寻找最优解

### 损耗计算

损耗：计算资源、存储空间、网络、数据库、api触发的机器学习、数据分析模型

作用：

1. 估算不同负载下的冷启动概率和服务数量
2. 应用开发者和平台开发者都能估算不同配置下的